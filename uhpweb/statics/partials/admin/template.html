<div ng-controller="TemplateCtrl">
  
  <div class="row">
    <div class="col-md-3 span3">
        <div class="input-group">
          <span class="input-group-addon">目录</span>
          <select class="form-control" ng-model="nowdir" ng-options="dir as dir for (dir,files) in templates"></select>
        </div>
    </div>
    <div class="col-md-3 span3">
        <div class="input-group" >
          <span class="input-group-addon">文件</span>
          <select class="form-control" ng-model="nowfile" ng-options="file for file in templates[nowdir]"></select>
        </div>
    </div>
    <div class="col-md-2 col-md-offset-2">
        <button class="btn btn-block btn-danger" ng-click="reset()">重置</button>
    </div>
    <div class="col-md-2">
        <button class="btn btn-block btn-primary" ng-click="save()">保存</button>
    </div>
  </div>

  <div class="row" style="margin-top:10px;">
    <div class="col-md-6">
      <div class="input-group">
        <span class="input-group-addon">针对指定机器查看生成的配置文件</span>
        <select class="form-control" ng-model="nowhost" ng-options="host for host in hosts"></select>
      </div>
    </div>
    <div class="col-md-2 col-md-offset-2">
      <button class="btn btn-block btn-info" ng-click="build()" >在线查看</button>
    </div>
    <div class="col-md-2">
      <button class="btn btn-block btn-primary" ng-click="download()" >全部下载</button>
    </div>
  </div>

  <div class="row" style="margin-top:10px">
    <div class="col-md-12">
      <textarea class="form-control" ng-model="nowContent" style="resize:none;" rows=[[nowContentMaxRow]]></textarea>
    </div>
  </div>

  <!-- 生成配置文件对话框 -->
  <div id="templateModal" class="modal fade" role="dialog" aria-hidden="true" data-backdrop="static">
    <!--  style="width:950px;left:auto;margin-left:0px;" -->
    <div class="modal-dialog" style="min-width:800px">
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="fui-cross"></span></button>
          <h6>生成配置文件</h6>
        </div>

        <div class="modal-body">
          <label>针对[[nowhost]]的配置项，查看最终生成的[[nowdir]]的[[nowfile]]配置文件如下</label>
          <textarea class="form-control" ng-model="buildContent" style="resize:none;" rows=[[buildContentMaxRow]] readonly="readonly"></textarea>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn" data-dismiss="modal">取消</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal" ng-click="saveConf('del')" ng-show="nowConfVar.del" >删除</button>
          <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="saveConf()" >确定</button>
        </div>

      </div>
    </div>
  </div>

  <!-- 保存文件对话框 -->
  <div id="templateSaveModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h6>保存模板文件</h6>
        </div>
        <div class="modal-body">
          <label>保存中 ...</label>
        </div>
        <div class="modal-footer">
        </div>
      </div>
    </div>
  </div>

</div>
