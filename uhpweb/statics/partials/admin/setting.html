<div  ng-controller="SettingCtrl">
	<div>
		<select ng-model="showType" style="margin-bottom: 20px;">
			<option value="group">组变量</option>
			<option value="host">机器变量</option>
		</select>
		<input type="text" ng-model="settingSearchText" style="margin-bottom:20px;">
	  	<button  type="button" class="btn" ng-click="addConfVar()" style="margin-bottom:20px;">添加配置项</button>
	  	<table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" >
		    <thead>
		        <tr>
		        	<th ng-show="showType=='group'">组</th>
		        	<th ng-show="showType=='host'">机器</th>
		            <th>配置名称</th>
		            <th style="width:600px;">配置数值</th>
		            <th>类型</th>
		            <th>注释</th>
		        </tr>
		    </thead>
		    <tbody>
		        <tr ng-dblclick="editConfVar(var)" ng-repeat="var in confVar|filter:confSearchText">
		        	<td>[[var.group]]</td>
		            <td>[[var.name]]</td>
		            <td>
		            	<pre>[[var.value]]</pre>
		            </td>
		            <td>[[var.type]]</td>
		            <td>[[var.text]]</td>
		        </tr>
		    </tbody>
		</table>
		<!-- 模式对话框  -->
		<div id="settingConfModal" class="modal hide fade" data-backdrop="static" aria-hidden="true">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h3>修改配置</h3>
            </div>
            <div class="modal-body">
            	<div class="input-prepend" ng-show="showType=='host'"
					style="display: block;">
					<span class="add-on">配置机器:</span> <select ng-model="nowConfVar.host"
						ng-options="host for host in hosts" style="margin-bottom: 20px;"></select>
				</div>
	            <div class="input-prepend" style="display:block;">
	               <span class="add-on">配置名称:</span><input type="text" ng-model="nowConfVar.name">
	            </div>
	            <div class="input-prepend" style="display:block;">
	               <span class="add-on">值:</span>
	               <input type="text" ng-show="nowConfVar.type=='string'" ng-model="nowConfVar.value">
	               <textarea rows="5" ng-show="nowConfVar.type=='list'" ng-model="nowConfVar.value"></textarea>
	            </div>
	            
	            <div class="input-prepend" style="display:block;">
	               	<span class="add-on">类型:</span>
					<select ng-model="nowConfVar.type">
					  <option value="string" >字符串</option>
					  <option value="list" >数组(请使用换行分割)</option>
				   	</select>
	            </div>
	            <div class="input-prepend" style="display:block;">
	               <span class="add-on">注释:</span><input type="text" ng-model="nowConfVar.text">
	            </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn" data-dismiss="modal">取消</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal" ng-click="saveConf('del')" ng-show="nowConfVar.del" >删除</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="saveConf()" >确定</button>
            </div>
        </div>
	</div>
</div>
